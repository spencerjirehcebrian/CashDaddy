{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 11:08:40"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 11:08:40"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 11:08:40"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 11:08:40"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 11:09:47"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 11:09:47"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 11:09:47"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 11:09:47"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 11:12:27"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 11:12:27"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 11:12:27"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 11:12:27"}
{"level":"error","message":"Error: Token has expired\n    at AuthService.verifyToken (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/services/auth/auth.service.js:16:23)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:24:50\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at /home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:175:3)","service":"shared","timestamp":"2024-08-24 11:12:30"}
{"level":"info","message":"Response: 401 An error occurred","service":"shared","timestamp":"2024-08-24 11:12:30"}
{"level":"info","message":"Response: 200 test","service":"shared","timestamp":"2024-08-24 11:13:34"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'invalidateCache')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:27:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:25:28)\n    at async KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:10:25)","service":"shared","timestamp":"2024-08-24 11:13:39"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 11:13:39"}
{"level":"info","message":"Response: 200 test","service":"shared","timestamp":"2024-08-24 11:28:56"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 15:37:40"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 15:37:40"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 15:37:40"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 15:37:40"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 15:37:46"}
{"level":"error","message":"Error: Token has expired\n    at AuthService.verifyToken (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/services/auth/auth.service.js:16:23)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:24:50\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at /home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:175:3)","service":"shared","timestamp":"2024-08-24 15:37:54"}
{"level":"info","message":"Response: 401 An error occurred","service":"shared","timestamp":"2024-08-24 15:37:54"}
{"level":"info","message":"Response: 200 Test message sent to Kafka","service":"shared","timestamp":"2024-08-24 15:38:10"}
{"level":"info","message":"Received message:","offset":"0","partition":0,"service":"shared","timestamp":"2024-08-24 15:38:10","topic":"kyc-events","value":"{\"action\":\"test\",\"payload\":{\"idType\":\"PASSPORT\",\"idNumber\":\"AB1234567\",\"idExpiryDate\":\"2030-01-01\",\"addressProofType\":\"UTILITY_BILL\",\"addressProofDocument\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=\"}}"}
{"addressProofDocument":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=","addressProofType":"UTILITY_BILL","idExpiryDate":"2030-01-01","idNumber":"AB1234567","idType":"PASSPORT","level":"info","message":"Handling test action","service":"shared","timestamp":"2024-08-24 15:38:10"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 17:05:02"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 17:05:02"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 17:05:02"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 17:05:02"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 17:05:05"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 17:14:13"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 17:14:13"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 17:14:13"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 17:14:13"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 17:14:16"}
{"level":"error","message":"Error: User data not received\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:36:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 17:14:25"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 17:14:25"}
{"level":"error","message":"Error: User data not received\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:36:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 17:16:11"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 17:16:11"}
{"level":"error","message":"Error: User data not received\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:36:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 17:18:02"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 17:18:02"}
{"level":"info","message":"Response: 200 Test message sent to Kafka","service":"shared","timestamp":"2024-08-24 17:18:20"}
{"level":"error","message":"Error: User data not received\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:36:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 17:19:48"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 17:19:48"}
{"level":"info","message":"Response: 200 Test message sent to Kafka","service":"shared","timestamp":"2024-08-24 17:21:13"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 17:35:37"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 17:35:37"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 17:35:37"}
{"level":"error","message":"Failed to connect:","service":"shared","timestamp":"2024-08-24 17:35:37"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 17:39:40"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 17:39:40"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 17:39:40"}
{"level":"error","message":"Failed to connect:","service":"shared","timestamp":"2024-08-24 17:39:40"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 17:40:25"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 17:40:25"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 17:40:25"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 17:40:25"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 17:40:27"}
{"level":"info","message":"Response: 200 Test message sent to Kafka","service":"shared","timestamp":"2024-08-24 17:40:41"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 17:46:46"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 17:46:46"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 17:46:46"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 17:46:46"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 17:46:50"}
{"level":"info","message":"Response: 200 Test message sent to Kafka","service":"shared","timestamp":"2024-08-24 17:47:06"}
{"level":"error","message":"Error: User cannot be verified\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:36:23)","service":"shared","timestamp":"2024-08-24 17:47:37"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 17:47:37"}
{"level":"info","message":"Response: 200 Test message sent to Kafka","service":"shared","timestamp":"2024-08-24 17:50:14"}
{"level":"info","message":"Response: 200 Test message sent to Kafka","service":"shared","timestamp":"2024-08-24 17:50:24"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 17:50:58"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 17:50:58"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 17:50:58"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 17:50:58"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 17:51:21"}
{"level":"error","message":"Error: User cannot be verified\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:36:23)","service":"shared","timestamp":"2024-08-24 17:51:29"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 17:51:29"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 17:53:54"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 17:53:54"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 17:53:54"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 17:53:54"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 17:54:16"}
{"level":"info","message":"Received message:","offset":"0","partition":0,"service":"shared","timestamp":"2024-08-24 17:54:19","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"warn","message":"Unknown action received: returnUser","service":"shared","timestamp":"2024-08-24 17:54:19"}
{"level":"info","message":"Received message:","offset":"1","partition":0,"service":"shared","timestamp":"2024-08-24 17:54:19","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"warn","message":"Unknown action received: returnUser","service":"shared","timestamp":"2024-08-24 17:54:19"}
{"level":"info","message":"Received message:","offset":"2","partition":0,"service":"shared","timestamp":"2024-08-24 17:54:26","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"warn","message":"Unknown action received: returnUser","service":"shared","timestamp":"2024-08-24 17:54:26"}
{"level":"error","message":"Error: User cannot be verified\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:36:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 17:54:31"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 17:54:31"}
{"level":"info","message":"Received message:","offset":"3","partition":0,"service":"shared","timestamp":"2024-08-24 17:55:50","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"warn","message":"Unknown action received: returnUser","service":"shared","timestamp":"2024-08-24 17:55:50"}
{"level":"error","message":"Error: User cannot be verified\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:36:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 17:55:55"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 17:55:55"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 17:57:32"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 17:57:32"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 17:57:32"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 17:57:32"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 17:57:35"}
{"level":"info","message":"Received message:","offset":"0","partition":0,"service":"shared","timestamp":"2024-08-24 17:57:43","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'invalidateCache')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:27:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:25:28)\n    at async KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:38:25)","service":"shared","timestamp":"2024-08-24 17:57:43"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 17:57:43"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:00:50"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:00:50"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:00:50"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:00:50"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:01:13"}
{"level":"info","message":"Received message:","offset":"1","partition":0,"service":"shared","timestamp":"2024-08-24 18:01:14","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'invalidateCache')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:27:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:25:28)\n    at async KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:38:25)","service":"shared","timestamp":"2024-08-24 18:01:14"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 18:01:14"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:04:26"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:04:26"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:04:26"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:04:26"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:04:49"}
{"level":"info","message":"Received message:","offset":"2","partition":0,"service":"shared","timestamp":"2024-08-24 18:04:51","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'invalidateCache')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:27:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:25:28)\n    at async KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:38:25)","service":"shared","timestamp":"2024-08-24 18:04:51"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 18:04:51"}
{"level":"info","message":"Received message:","offset":"3","partition":0,"service":"shared","timestamp":"2024-08-24 18:05:19","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'invalidateCache')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:27:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:25:28)\n    at async KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:38:25)","service":"shared","timestamp":"2024-08-24 18:05:19"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 18:05:19"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:05:31"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:05:31"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:05:31"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:05:31"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:05:54"}
{"level":"info","message":"Received message:","offset":"4","partition":0,"service":"shared","timestamp":"2024-08-24 18:06:03","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 18:06:03"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:06:22"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:06:22"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:06:22"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:06:22"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:06:48"}
{"level":"info","message":"Received message:","offset":"5","partition":0,"service":"shared","timestamp":"2024-08-24 18:07:02","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'invalidateCache')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:27:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:38:25)","service":"shared","timestamp":"2024-08-24 18:07:02"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 18:07:02"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:09:26"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:09:26"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:09:26"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:09:26"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:09:29"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'cacheMethod')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:13:33)\n    at KYCController.getOwnKYCStatus (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:136:47)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:51:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 18:09:32"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 18:09:32"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:12:51"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:12:51"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:12:51"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:12:51"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:13:14"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'cacheMethod')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:13:33)\n    at KYCController.getOwnKYCStatus (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:136:47)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:51:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 18:13:17"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 18:13:17"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:14:06"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:14:06"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:14:06"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:14:06"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:14:30"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'cacheMethod')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:13:33)\n    at KYCController.getOwnKYCStatus (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:136:47)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:51:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 18:15:11"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 18:15:11"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:16:20"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:16:20"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:16:20"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 18:16:20"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:16:20"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:16:47"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:16:47"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:16:47"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 18:16:47"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:16:47"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:17:15"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'cacheMethod')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:13:33)\n    at KYCController.getOwnKYCStatus (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:136:47)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:51:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 18:17:18"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 18:17:18"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:19:20"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:19:20"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:19:20"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 18:19:20"}
{"level":"info","message":"CacheManager has been set.","service":"shared","timestamp":"2024-08-24 18:19:20"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:19:20"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:19:45"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'cacheMethod')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:13:33)\n    at KYCController.getOwnKYCStatus (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:136:47)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:51:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 18:19:47"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 18:19:47"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:21:08"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:21:08"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:21:08"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 18:21:08"}
{"level":"info","message":"CacheManager has been set in caching.decorator.ts","service":"shared","timestamp":"2024-08-24 18:21:08"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:21:08"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:21:35"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'cacheMethod')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:13:33)\n    at KYCController.getOwnKYCStatus (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:136:47)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:51:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 18:21:48"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 18:21:48"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:25:14"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:25:14"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:25:14"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 18:25:14"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:25:14"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:25:35"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:25:42"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:25:42"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:25:42"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 18:25:42"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:25:42"}
{"level":"info","message":"User microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:26:05"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'cacheMethod')\n    at descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/decorators/caching.decorator.js:13:33)\n    at KYCController.getOwnKYCStatus (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:136:47)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:51:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 18:26:09"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 18:26:09"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 18:28:41"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 18:28:41"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 18:28:41"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 18:28:41"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 18:28:41"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 18:28:44"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 18:28:48"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 18:28:48"}
{"level":"info","message":"Cache miss: kyc:66c94fd65cb63642498b6445. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 18:28:48"}
{"level":"info","message":"Method result cached with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 18:28:48"}
{"level":"info","message":"Response: 200 KYC status retrieved successfully","service":"shared","timestamp":"2024-08-24 18:28:48"}
{"level":"error","message":"Error: User cannot be verified\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:36:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 18:29:01"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 18:29:01"}
{"level":"info","message":"Received message:","offset":"6","partition":0,"service":"shared","timestamp":"2024-08-24 18:29:01","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"warn","message":"Received user data, but no pending KYC submission","service":"shared","timestamp":"2024-08-24 18:29:01"}
{"level":"info","message":"Received message:","offset":"7","partition":0,"service":"shared","timestamp":"2024-08-24 18:29:08","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 18:29:08"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 18:29:08"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 18:29:08"}
{"level":"info","message":"Received message:","offset":"8","partition":0,"service":"shared","timestamp":"2024-08-24 18:29:12","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 18:29:12"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 18:29:12"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 18:29:12"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 19:52:33"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 19:52:33"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 19:52:34"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 19:52:34"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 19:52:34"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 19:52:38"}
{"level":"info","message":"Received message:","offset":"0","partition":0,"service":"shared","timestamp":"2024-08-24 19:52:54","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 19:52:54"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 19:52:54"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 19:52:54"}
{"level":"info","message":"Received message:","offset":"1","partition":0,"service":"shared","timestamp":"2024-08-24 19:58:03","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 19:58:03"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 19:58:03"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 19:58:03"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 20:03:43"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 20:03:43"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 20:03:43"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 20:03:43"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 20:03:43"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 20:04:03"}
{"level":"info","message":"Received message:","offset":"2","partition":0,"service":"shared","timestamp":"2024-08-24 20:10:08","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T03:13:26.220Z\"}}"}
{"level":"info","message":"Response: 400 UserProfile data is missing in the payload","service":"shared","timestamp":"2024-08-24 20:10:08"}
{"level":"info","message":"Received message:","offset":"3","partition":0,"service":"shared","timestamp":"2024-08-24 20:10:47","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:10:42.748Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"}}}"}
{"level":"info","message":"Response: 400 UserProfile data is missing in the payload","service":"shared","timestamp":"2024-08-24 20:10:47"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 20:11:33"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 20:11:33"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 20:11:33"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 20:11:33"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 20:11:33"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 20:11:57"}
{"level":"info","message":"Received message:","offset":"4","partition":0,"service":"shared","timestamp":"2024-08-24 20:11:59","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:10:42.748Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"}}}"}
{"_id":"66c94fd65cb63642498b6445","createdAt":"2024-08-24T03:13:26.220Z","email":"user@example.com","firstName":"John","lastName":"Doe","level":"info","message":"Parsed user data:","role":"USER","service":"shared","status":"ACTIVE","timestamp":"2024-08-24 20:11:59","updatedAt":"2024-08-24T12:10:42.748Z","userProfile":{"_id":"66c9cdc2ab995c26c1260cd5","addressLine1":"123 Main St","city":"Anytown","country":"Country","createdAt":"2024-08-24T12:10:42.741Z","dateOfBirth":"1990-01-01T00:00:00.000Z","phoneNumber":"+1234567890","postalCode":"12345","state":"State","updatedAt":"2024-08-24T12:10:42.741Z","user":"66c94fd65cb63642498b6445"}}
{"level":"info","message":"Response: 400 UserProfile data is missing in the payload","service":"shared","timestamp":"2024-08-24 20:11:59"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 20:12:40"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 20:12:40"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 20:12:40"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 20:12:40"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 20:12:40"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 20:13:04"}
{"level":"info","message":"Received message:","offset":"5","partition":0,"service":"shared","timestamp":"2024-08-24 20:13:06","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:10:42.748Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"}}}"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'userProfile')\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:39:75)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 20:13:06"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 20:13:06"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 20:13:23"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 20:13:23"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 20:13:23"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 20:13:23"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 20:13:23"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 20:13:46"}
{"level":"info","message":"Received message:","offset":"6","partition":0,"service":"shared","timestamp":"2024-08-24 20:13:48","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:10:42.748Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"}}}"}
{"level":"info","message":"Parsed user data: undefined","service":"shared","timestamp":"2024-08-24 20:13:48"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'userProfile')\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:40:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 20:13:48"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 20:13:48"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 20:15:35"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 20:15:35"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 20:15:35"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 20:15:35"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 20:15:35"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 20:15:58"}
{"level":"info","message":"Received message:","offset":"7","partition":0,"service":"shared","timestamp":"2024-08-24 20:16:01","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:10:42.748Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"}}}"}
{"_id":"66c94fd65cb63642498b6445","createdAt":"2024-08-24T03:13:26.220Z","email":"user@example.com","firstName":"John","lastName":"Doe","level":"info","message":"User data received:","role":"USER","service":"shared","status":"ACTIVE","timestamp":"2024-08-24 20:16:01","updatedAt":"2024-08-24T12:10:42.748Z","userProfile":{"_id":"66c9cdc2ab995c26c1260cd5","addressLine1":"123 Main St","city":"Anytown","country":"Country","createdAt":"2024-08-24T12:10:42.741Z","dateOfBirth":"1990-01-01T00:00:00.000Z","phoneNumber":"+1234567890","postalCode":"12345","state":"State","updatedAt":"2024-08-24T12:10:42.741Z","user":"66c94fd65cb63642498b6445"}}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 20:16:01"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 20:16:01"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 20:16:01"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 20:17:40"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 20:17:40"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 20:17:40"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 20:17:40"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 20:17:40"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 20:18:06"}
{"level":"info","message":"Received message:","offset":"8","partition":0,"service":"shared","timestamp":"2024-08-24 20:18:07","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:10:42.748Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"}}}"}
{"level":"error","message":"SyntaxError: \"[object Object]\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:38:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 20:18:07"}
{"level":"info","message":"Response: 503 Server error","service":"shared","timestamp":"2024-08-24 20:18:07"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 20:34:06"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 20:34:06"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 20:34:06"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 20:34:06"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 20:34:06"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 20:34:09"}
{"level":"info","message":"Received message:","offset":"9","partition":0,"service":"shared","timestamp":"2024-08-24 20:34:28","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:10:42.748Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"}}}"}
{"level":"info","message":"User data received: 66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 20:34:28"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 20:34:28"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 20:34:28"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 20:34:28"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 20:49:44"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 20:49:44"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 20:49:44"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 20:49:44"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 20:49:44"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 20:49:47"}
{"level":"info","message":"Received message:","offset":"10","partition":0,"service":"shared","timestamp":"2024-08-24 20:49:53","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:10:42.748Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"}}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 20:49:53"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 20:49:53"}
{"level":"info","message":"Received message:","offset":"11","partition":0,"service":"shared","timestamp":"2024-08-24 20:49:53","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:49:53.515Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c94fe3cf20ea1bfa27c9f7\"}}"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 20:49:53"}
{"level":"error","message":"Error: User cannot be verified\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:35:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 20:50:17"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 20:50:17"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 20:54:19"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 20:54:19"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 20:54:20"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 20:54:20"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 20:54:20"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 20:54:43"}
{"level":"error","message":"Error: Token has expired\n    at AuthService.verifyToken (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/services/auth/auth.service.js:20:23)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:24:50\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at /home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:175:3)","service":"shared","timestamp":"2024-08-24 20:55:08"}
{"level":"info","message":"Response: 401 An error occurred","service":"shared","timestamp":"2024-08-24 20:55:08"}
{"level":"info","message":"Received message:","offset":"12","partition":0,"service":"shared","timestamp":"2024-08-24 20:55:14","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:49:53.515Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"}}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 20:55:14"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 20:55:14"}
{"level":"info","message":"Received message:","offset":"13","partition":0,"service":"shared","timestamp":"2024-08-24 20:55:14","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9d832d070445b3ea7d5fa\"}}"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 20:55:14"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 21:01:48"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 21:01:48"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 21:01:48"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 21:01:48"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 21:01:48"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 21:02:15"}
{"level":"error","message":"Error: User cannot be verified\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:35:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 21:02:27"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 21:02:27"}
{"level":"error","message":"Error: User cannot be verified\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:35:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 21:02:48"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 21:02:48"}
{"level":"error","message":"Error: User cannot be verified\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:35:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 21:05:32"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 21:05:32"}
{"level":"error","message":"Error: User cannot be verified\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:35:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 21:07:10"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 21:07:10"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 21:32:58"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 21:32:58"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 21:32:58"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 21:32:58"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 21:32:58"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 21:33:01"}
{"level":"error","message":"Error: User cannot be verified\n    at KYCController.submitOrUpdateKYC (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/src/controller/kyc.controller.ts:35:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)","service":"shared","timestamp":"2024-08-24 21:33:18"}
{"level":"info","message":"Response: 404 An error occurred","service":"shared","timestamp":"2024-08-24 21:33:18"}
{"level":"info","message":"Received message:","offset":"14","partition":0,"service":"shared","timestamp":"2024-08-24 21:34:27","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9d832d070445b3ea7d5fa\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:34:27"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:34:27"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 21:34:27"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 21:35:01"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 21:35:01"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 21:35:01"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 21:35:01"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 21:35:01"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 21:35:27"}
{"level":"info","message":"Received message:","offset":"15","partition":0,"service":"shared","timestamp":"2024-08-24 21:36:45","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9d832d070445b3ea7d5fa\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:36:45"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:36:45"}
{"level":"info","message":"Received message:","offset":"16","partition":0,"service":"shared","timestamp":"2024-08-24 21:36:45","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9d832d070445b3ea7d5fa\"}}"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 21:36:45"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 21:41:38"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 21:41:38"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 21:41:38"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 21:41:38"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 21:41:38"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 21:42:00"}
{"level":"info","message":"Received message:","offset":"17","partition":0,"service":"shared","timestamp":"2024-08-24 21:43:39","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9d832d070445b3ea7d5fa\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:43:40"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:43:40"}
{"level":"info","message":"Received message:","offset":"18","partition":0,"service":"shared","timestamp":"2024-08-24 21:43:40","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9d832d070445b3ea7d5fa\"}}"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 21:43:40"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 21:46:09"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 21:46:09"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 21:46:09"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 21:46:09"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 21:46:09"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 21:46:35"}
{"level":"info","message":"Received message:","offset":"19","partition":0,"service":"shared","timestamp":"2024-08-24 21:46:37","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9d832d070445b3ea7d5fa\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:46:37"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:46:37"}
{"level":"info","message":"Received message:","offset":"20","partition":0,"service":"shared","timestamp":"2024-08-24 21:46:37","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9d832d070445b3ea7d5fa\"}}"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 21:46:37"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 21:47:41"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 21:47:41"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 21:47:41"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 21:47:41"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 21:47:41"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 21:48:02"}
{"level":"info","message":"Received message:","offset":"21","partition":0,"service":"shared","timestamp":"2024-08-24 21:48:40","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9d832d070445b3ea7d5fa\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:48:40"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:48:40"}
{"level":"info","message":"Received message:","offset":"22","partition":0,"service":"shared","timestamp":"2024-08-24 21:48:40","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9d832d070445b3ea7d5fa\"}}"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 21:48:40"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 21:51:25"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 21:51:25"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 21:51:25"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 21:51:25"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 21:51:25"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 21:51:50"}
{"level":"info","message":"Received message:","offset":"23","partition":0,"service":"shared","timestamp":"2024-08-24 21:52:16","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9d832d070445b3ea7d5fa\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:52:16"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 21:52:16"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 21:52:16"}
{"level":"error","message":"Error: Token has expired\n    at AuthService.verifyToken (file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/services/auth/auth.service.js:20:23)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:24:50\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/layer.js:95:5)\n    at /home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/express/lib/router/index.js:175:3)","service":"shared","timestamp":"2024-08-24 22:07:34"}
{"level":"info","message":"Response: 401 An error occurred","service":"shared","timestamp":"2024-08-24 22:07:34"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 22:07:38"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 22:07:38"}
{"level":"info","message":"Cache miss: kyc:66c94fd65cb63642498b6445. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 22:07:38"}
{"level":"info","message":"Method result cached with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 22:07:38"}
{"level":"info","message":"Response: 200 KYC status retrieved successfully","service":"shared","timestamp":"2024-08-24 22:07:38"}
{"level":"error","message":"Error: Insufficient privileges\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:37:31\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 22:08:24"}
{"level":"info","message":"Response: 401 An error occurred","service":"shared","timestamp":"2024-08-24 22:08:24"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 22:17:37"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 22:17:37"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 22:17:37"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 22:17:37"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 22:17:37"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 22:18:02"}
{"level":"error","message":"Error: Insufficient privileges\n    at file:///home/jireh/projects/stratpoint/CashDaddy/kyc-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:37:31\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-24 22:18:14"}
{"level":"info","message":"Response: 401 An error occurred","service":"shared","timestamp":"2024-08-24 22:18:14"}
{"level":"info","message":"Received message:","offset":"24","partition":0,"service":"shared","timestamp":"2024-08-24 22:18:17","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T12:55:14.887Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 22:18:17"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 22:18:17"}
{"level":"info","message":"Received message:","offset":"25","partition":0,"service":"shared","timestamp":"2024-08-24 22:18:17","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 22:18:17"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 22:58:25"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 22:58:25"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 22:58:25"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 22:58:25"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 22:58:25"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 22:58:28"}
{"level":"info","message":"Received message:","offset":"26","partition":0,"service":"shared","timestamp":"2024-08-24 22:58:41","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 22:58:41"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:[object Object]","service":"shared","timestamp":"2024-08-24 22:58:41"}
{"level":"info","message":"Received message:","offset":"27","partition":0,"service":"shared","timestamp":"2024-08-24 22:58:41","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 22:58:41"}
{"level":"info","message":"Response: 404 KYC not found","service":"shared","timestamp":"2024-08-24 22:59:00"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 22:59:39"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 22:59:39"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 22:59:39"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 22:59:39"}
{"level":"info","message":"Response: 200 KYC approved successfully","service":"shared","timestamp":"2024-08-24 22:59:39"}
{"level":"info","message":"Cache miss: kyc:66c94fd65cb63642498b6445. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 22:59:39"}
{"level":"info","message":"Method result cached with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 22:59:39"}
{"level":"info","message":"Received message:","offset":"28","partition":0,"service":"shared","timestamp":"2024-08-24 22:59:39","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Received message:","offset":"29","partition":0,"service":"shared","timestamp":"2024-08-24 22:59:40","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Stripe customer created for user 66c94fd65cb63642498b6445 with ID cus_Qin1lndXTHqu8U","service":"shared","timestamp":"2024-08-24 22:59:40"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 23:02:24"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 23:02:24"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 23:02:24"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 23:02:24"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 23:02:24"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 23:02:50"}
{"level":"info","message":"Response: 400 KYC is already approved","service":"shared","timestamp":"2024-08-24 23:03:07"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:03:23"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:03:23"}
{"level":"info","message":"Response: 200 KYC rejected successfully","service":"shared","timestamp":"2024-08-24 23:03:23"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:03:26"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:03:26"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:03:26"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:03:26"}
{"level":"info","message":"Response: 200 KYC approved successfully","service":"shared","timestamp":"2024-08-24 23:03:26"}
{"level":"info","message":"Cache miss: kyc:66c94fd65cb63642498b6445. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 23:03:26"}
{"level":"info","message":"Method result cached with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:03:26"}
{"level":"info","message":"Received message:","offset":"30","partition":0,"service":"shared","timestamp":"2024-08-24 23:03:26","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Received message:","offset":"31","partition":0,"service":"shared","timestamp":"2024-08-24 23:03:27","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"},\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Stripe customer created for user 66c94fd65cb63642498b6445 with ID cus_Qin5s0LT8B35BB","service":"shared","timestamp":"2024-08-24 23:03:27"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 23:06:46"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 23:06:46"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 23:06:46"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 23:06:46"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 23:06:46"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 23:07:12"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:07:18"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:07:18"}
{"level":"info","message":"Response: 200 KYC rejected successfully","service":"shared","timestamp":"2024-08-24 23:07:18"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:07:20"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:07:20"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:07:20"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:07:20"}
{"level":"info","message":"Response: 200 KYC approved successfully","service":"shared","timestamp":"2024-08-24 23:07:20"}
{"level":"info","message":"Cache miss: kyc:66c94fd65cb63642498b6445. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 23:07:20"}
{"level":"info","message":"Method result cached with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:07:20"}
{"level":"info","message":"Received message:","offset":"32","partition":0,"service":"shared","timestamp":"2024-08-24 23:07:20","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"address":{},"email":"user@example.com","level":"info","message":"","metadata":{},"name":"John Doe","service":"shared","timestamp":"2024-08-24 23:07:20"}
{"level":"info","message":"Received message:","offset":"33","partition":0,"service":"shared","timestamp":"2024-08-24 23:07:20","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"},\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Stripe customer created for user 66c94fd65cb63642498b6445 with ID cus_Qin9afTyhENOPG","service":"shared","timestamp":"2024-08-24 23:07:20"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 23:10:10"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 23:10:10"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 23:10:10"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 23:10:10"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 23:10:10"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 23:10:35"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:11:35"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:11:35"}
{"level":"info","message":"Response: 200 KYC rejected successfully","service":"shared","timestamp":"2024-08-24 23:11:35"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:11:38"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:11:38"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:11:38"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:11:38"}
{"level":"info","message":"Response: 200 KYC approved successfully","service":"shared","timestamp":"2024-08-24 23:11:38"}
{"level":"info","message":"Cache miss: kyc:66c94fd65cb63642498b6445. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 23:11:38"}
{"level":"info","message":"Method result cached with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:11:38"}
{"level":"info","message":"Received message:","offset":"34","partition":0,"service":"shared","timestamp":"2024-08-24 23:11:38","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Stripe customer created for user [object Object]}","service":"shared","timestamp":"2024-08-24 23:11:39"}
{"level":"info","message":"Received message:","offset":"35","partition":0,"service":"shared","timestamp":"2024-08-24 23:11:39","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"},\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Stripe customer created for user 66c94fd65cb63642498b6445 with ID cus_QinDIyjXxtip2r","service":"shared","timestamp":"2024-08-24 23:11:39"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 23:12:12"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 23:12:12"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 23:12:12"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 23:12:12"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 23:12:12"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 23:12:39"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:13:22"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:13:22"}
{"level":"info","message":"Response: 200 KYC rejected successfully","service":"shared","timestamp":"2024-08-24 23:13:22"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:13:24"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:13:24"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:13:24"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:13:24"}
{"level":"info","message":"Response: 200 KYC approved successfully","service":"shared","timestamp":"2024-08-24 23:13:24"}
{"level":"info","message":"Cache miss: kyc:66c94fd65cb63642498b6445. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 23:13:24"}
{"level":"info","message":"Method result cached with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:13:24"}
{"level":"info","message":"Received message:","offset":"36","partition":0,"service":"shared","timestamp":"2024-08-24 23:13:24","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Stripe customer created for user [object Object]}","service":"shared","timestamp":"2024-08-24 23:13:25"}
{"level":"info","message":"Received message:","offset":"37","partition":0,"service":"shared","timestamp":"2024-08-24 23:13:25","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"},\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Stripe customer created for user 66c94fd65cb63642498b6445 with ID cus_QinFPYuceReSSS","service":"shared","timestamp":"2024-08-24 23:13:25"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 23:15:23"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 23:15:23"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 23:15:23"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 23:15:23"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 23:15:23"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 23:15:45"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:15:57"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:15:57"}
{"level":"info","message":"Response: 200 KYC rejected successfully","service":"shared","timestamp":"2024-08-24 23:15:57"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:15:59"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:15:59"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:15:59"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:15:59"}
{"level":"info","message":"Response: 200 KYC approved successfully","service":"shared","timestamp":"2024-08-24 23:15:59"}
{"level":"info","message":"Cache miss: kyc:66c94fd65cb63642498b6445. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 23:15:59"}
{"level":"info","message":"Method result cached with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:15:59"}
{"level":"info","message":"Received message:","offset":"38","partition":0,"service":"shared","timestamp":"2024-08-24 23:15:59","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":\"66c9cdc2ab995c26c1260cd5\",\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Stripe customer created for user undefined}","service":"shared","timestamp":"2024-08-24 23:15:59"}
{"level":"info","message":"Received message:","offset":"39","partition":0,"service":"shared","timestamp":"2024-08-24 23:15:59","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"},\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Stripe customer created for user 66c94fd65cb63642498b6445 with ID cus_QinHW4iB048FY6","service":"shared","timestamp":"2024-08-24 23:15:59"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 23:17:09"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 23:17:09"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 23:17:09"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 23:17:09"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 23:17:09"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 23:17:24"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:17:38"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:17:38"}
{"level":"info","message":"Response: 200 KYC rejected successfully","service":"shared","timestamp":"2024-08-24 23:17:38"}
{"level":"info","message":"Invalidating cache with key: user:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:17:39"}
{"level":"info","message":"Invalidating cache with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:17:39"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:17:39"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:17:39"}
{"level":"info","message":"Response: 200 KYC approved successfully","service":"shared","timestamp":"2024-08-24 23:17:39"}
{"level":"info","message":"Cache miss: kyc:66c94fd65cb63642498b6445. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 23:17:39"}
{"level":"info","message":"Method result cached with key: kyc:66c94fd65cb63642498b6445","service":"shared","timestamp":"2024-08-24 23:17:39"}
{"level":"info","message":"Received message:","offset":"40","partition":0,"service":"shared","timestamp":"2024-08-24 23:17:40","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"},\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Received message:","offset":"41","partition":0,"service":"shared","timestamp":"2024-08-24 23:17:40","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c94fd65cb63642498b6445\",\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T03:13:26.220Z\",\"updatedAt\":\"2024-08-24T14:18:17.653Z\",\"userProfile\":{\"_id\":\"66c9cdc2ab995c26c1260cd5\",\"user\":\"66c94fd65cb63642498b6445\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T12:10:42.741Z\",\"updatedAt\":\"2024-08-24T12:10:42.741Z\"},\"kyc\":\"66c9eba9ec8730ad0aec48cd\"}}"}
{"level":"info","message":"Stripe customer created for user 66c94fd65cb63642498b6445 with ID cus_QinJcyeyAxuM5q","service":"shared","timestamp":"2024-08-24 23:17:40"}
{"level":"info","message":"Received message:","offset":"42","partition":0,"service":"shared","timestamp":"2024-08-24 23:19:59","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c9fa17ac811a0ff3729b30\",\"email\":\"user2@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T15:19:51.917Z\",\"updatedAt\":\"2024-08-24T15:19:56.511Z\",\"userProfile\":{\"_id\":\"66c9fa1cac811a0ff3729b34\",\"user\":\"66c9fa17ac811a0ff3729b30\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T15:19:56.509Z\",\"updatedAt\":\"2024-08-24T15:19:56.509Z\"}}}"}
{"level":"info","message":"Invalidating cache with key: user:66c9fa17ac811a0ff3729b30:[object Object]","service":"shared","timestamp":"2024-08-24 23:19:59"}
{"level":"info","message":"Invalidating cache with key: kyc:66c9fa17ac811a0ff3729b30:[object Object]","service":"shared","timestamp":"2024-08-24 23:19:59"}
{"level":"info","message":"Received message:","offset":"43","partition":0,"service":"shared","timestamp":"2024-08-24 23:19:59","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c9fa17ac811a0ff3729b30\",\"email\":\"user2@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T15:19:51.917Z\",\"updatedAt\":\"2024-08-24T15:19:59.267Z\",\"userProfile\":\"66c9fa1cac811a0ff3729b34\",\"kyc\":\"66c9fa1fb6c48fdf7d5a57df\"}}"}
{"level":"info","message":"Response: 200 KYC submitted or updated successfully","service":"shared","timestamp":"2024-08-24 23:19:59"}
{"level":"info","message":"Invalidating cache with key: user:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:20:17"}
{"level":"info","message":"Invalidating cache with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:20:17"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:20:17"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:20:17"}
{"level":"info","message":"Response: 200 KYC approved successfully","service":"shared","timestamp":"2024-08-24 23:20:17"}
{"level":"info","message":"Cache miss: kyc:66c9fa17ac811a0ff3729b30. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 23:20:17"}
{"level":"info","message":"Method result cached with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:20:17"}
{"level":"info","message":"Received message:","offset":"44","partition":0,"service":"shared","timestamp":"2024-08-24 23:20:17","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c9fa17ac811a0ff3729b30\",\"email\":\"user2@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T15:19:51.917Z\",\"updatedAt\":\"2024-08-24T15:19:59.267Z\",\"userProfile\":{\"_id\":\"66c9fa1cac811a0ff3729b34\",\"user\":\"66c9fa17ac811a0ff3729b30\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T15:19:56.509Z\",\"updatedAt\":\"2024-08-24T15:19:56.509Z\"},\"kyc\":\"66c9fa1fb6c48fdf7d5a57df\"}}"}
{"level":"info","message":"Received message:","offset":"45","partition":0,"service":"shared","timestamp":"2024-08-24 23:20:17","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c9fa17ac811a0ff3729b30\",\"email\":\"user2@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T15:19:51.917Z\",\"updatedAt\":\"2024-08-24T15:19:59.267Z\",\"userProfile\":{\"_id\":\"66c9fa1cac811a0ff3729b34\",\"user\":\"66c9fa17ac811a0ff3729b30\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T15:19:56.509Z\",\"updatedAt\":\"2024-08-24T15:19:56.509Z\"},\"kyc\":\"66c9fa1fb6c48fdf7d5a57df\"}}"}
{"level":"info","message":"Stripe customer created for user 66c9fa17ac811a0ff3729b30 with ID cus_QinLSwYrhB1Faw","service":"shared","timestamp":"2024-08-24 23:20:17"}
{"level":"info","message":"Invalidating cache with key: user:66c9fa17ac811a0ff3729b30:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:30:15"}
{"level":"info","message":"Invalidating cache with key: kyc:66c9fa17ac811a0ff3729b30:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:30:15"}
{"level":"info","message":"Response: 200 KYC rejected successfully","service":"shared","timestamp":"2024-08-24 23:30:15"}
{"level":"info","message":"Invalidating cache with key: user:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:30:17"}
{"level":"info","message":"Invalidating cache with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:30:17"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:30:17"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:30:17"}
{"level":"info","message":"Response: 200 KYC approved successfully","service":"shared","timestamp":"2024-08-24 23:30:17"}
{"level":"info","message":"Cache miss: kyc:66c9fa17ac811a0ff3729b30. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 23:30:17"}
{"level":"info","message":"Method result cached with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:30:17"}
{"level":"error","message":"Error creating Stripe customer","service":"shared","statusCode":404,"timestamp":"2024-08-24 23:30:27"}
{"level":"info","message":"Connected to MongoDB: mongodb://localhost:27017/cashdaddy_user_dev","service":"shared","timestamp":"2024-08-24 23:32:53"}
{"level":"info","message":"Connected to Redis: redis://localhost:6379","service":"shared","timestamp":"2024-08-24 23:32:53"}
{"level":"info","message":"Connected to Kafka: localhost:29092","service":"shared","timestamp":"2024-08-24 23:32:53"}
{"level":"info","message":"CacheManager initialized with CacheService.","service":"shared","timestamp":"2024-08-24 23:32:53"}
{"level":"info","message":"Connected Kafka Consumer","service":"shared","timestamp":"2024-08-24 23:32:53"}
{"level":"info","message":"KYC microservice listening on port 3001","service":"shared","timestamp":"2024-08-24 23:32:56"}
{"level":"info","message":"Received message:","offset":"46","partition":0,"service":"shared","timestamp":"2024-08-24 23:32:56","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c9fa17ac811a0ff3729b30\",\"email\":\"user2@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T15:19:51.917Z\",\"updatedAt\":\"2024-08-24T15:19:59.267Z\",\"userProfile\":{\"_id\":\"66c9fa1cac811a0ff3729b34\",\"user\":\"66c9fa17ac811a0ff3729b30\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T15:19:56.509Z\",\"updatedAt\":\"2024-08-24T15:19:56.509Z\"},\"kyc\":\"66c9fa1fb6c48fdf7d5a57df\"}}"}
{"level":"warn","message":"Received user data, but no pending KYC submission","service":"shared","timestamp":"2024-08-24 23:32:56"}
{"level":"info","message":"Invalidating cache with key: user:66c9fa17ac811a0ff3729b30:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:33:09"}
{"level":"info","message":"Invalidating cache with key: kyc:66c9fa17ac811a0ff3729b30:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:33:09"}
{"level":"info","message":"Response: 200 KYC rejected successfully","service":"shared","timestamp":"2024-08-24 23:33:09"}
{"level":"info","message":"Invalidating cache with key: user:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:33:12"}
{"level":"info","message":"Invalidating cache with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:33:12"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:33:12"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:33:12"}
{"level":"info","message":"Response: 200 KYC approved successfully","service":"shared","timestamp":"2024-08-24 23:33:12"}
{"level":"info","message":"Cache miss: kyc:66c9fa17ac811a0ff3729b30. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 23:33:12"}
{"level":"info","message":"Method result cached with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:33:12"}
{"level":"info","message":"Received message:","offset":"47","partition":0,"service":"shared","timestamp":"2024-08-24 23:33:12","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c9fa17ac811a0ff3729b30\",\"email\":\"user2@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T15:19:51.917Z\",\"updatedAt\":\"2024-08-24T15:19:59.267Z\",\"userProfile\":{\"_id\":\"66c9fa1cac811a0ff3729b34\",\"user\":\"66c9fa17ac811a0ff3729b30\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T15:19:56.509Z\",\"updatedAt\":\"2024-08-24T15:19:56.509Z\"},\"kyc\":\"66c9fa1fb6c48fdf7d5a57df\"}}"}
{"level":"info","message":"Received message:","offset":"48","partition":0,"service":"shared","timestamp":"2024-08-24 23:33:13","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c9fa17ac811a0ff3729b30\",\"email\":\"user2@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T15:19:51.917Z\",\"updatedAt\":\"2024-08-24T15:19:59.267Z\",\"userProfile\":{\"_id\":\"66c9fa1cac811a0ff3729b34\",\"user\":\"66c9fa17ac811a0ff3729b30\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T15:19:56.509Z\",\"updatedAt\":\"2024-08-24T15:19:56.509Z\"},\"kyc\":\"66c9fa1fb6c48fdf7d5a57df\"}}"}
{"level":"info","message":"Stripe customer created for user 66c9fa17ac811a0ff3729b30 with ID cus_QinYDhjZHwgP6R","service":"shared","timestamp":"2024-08-24 23:33:13"}
{"level":"info","message":"Invalidating cache with key: user:66c9fa17ac811a0ff3729b30:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:36:56"}
{"level":"info","message":"Invalidating cache with key: kyc:66c9fa17ac811a0ff3729b30:Document unclear, please resubmit","service":"shared","timestamp":"2024-08-24 23:36:56"}
{"level":"info","message":"Response: 200 KYC rejected successfully","service":"shared","timestamp":"2024-08-24 23:36:56"}
{"level":"info","message":"Invalidating cache with key: user:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:36:59"}
{"level":"info","message":"Invalidating cache with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:36:59"}
{"level":"info","message":"Cacheable decorator: caching method getKYCStatus with key kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:36:59"}
{"level":"info","message":"Attempting to cache method with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:36:59"}
{"level":"info","message":"Response: 200 KYC approved successfully","service":"shared","timestamp":"2024-08-24 23:36:59"}
{"level":"info","message":"Cache miss: kyc:66c9fa17ac811a0ff3729b30. Executing method and caching result.","service":"shared","timestamp":"2024-08-24 23:36:59"}
{"level":"info","message":"Method result cached with key: kyc:66c9fa17ac811a0ff3729b30","service":"shared","timestamp":"2024-08-24 23:36:59"}
{"level":"info","message":"Received message:","offset":"49","partition":0,"service":"shared","timestamp":"2024-08-24 23:36:59","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c9fa17ac811a0ff3729b30\",\"email\":\"user2@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T15:19:51.917Z\",\"updatedAt\":\"2024-08-24T15:19:59.267Z\",\"userProfile\":{\"_id\":\"66c9fa1cac811a0ff3729b34\",\"user\":\"66c9fa17ac811a0ff3729b30\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T15:19:56.509Z\",\"updatedAt\":\"2024-08-24T15:19:56.509Z\"},\"kyc\":\"66c9fa1fb6c48fdf7d5a57df\"}}"}
{"level":"info","message":"Received message:","offset":"50","partition":0,"service":"shared","timestamp":"2024-08-24 23:37:00","topic":"kyc-events","value":"{\"action\":\"returnUser\",\"payload\":{\"_id\":\"66c9fa17ac811a0ff3729b30\",\"email\":\"user2@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\",\"role\":\"USER\",\"status\":\"ACTIVE\",\"createdAt\":\"2024-08-24T15:19:51.917Z\",\"updatedAt\":\"2024-08-24T15:37:00.466Z\",\"userProfile\":{\"_id\":\"66c9fa1cac811a0ff3729b34\",\"user\":\"66c9fa17ac811a0ff3729b30\",\"dateOfBirth\":\"1990-01-01T00:00:00.000Z\",\"phoneNumber\":\"+1234567890\",\"addressLine1\":\"123 Main St\",\"city\":\"Anytown\",\"state\":\"State\",\"country\":\"Country\",\"postalCode\":\"12345\",\"createdAt\":\"2024-08-24T15:19:56.509Z\",\"updatedAt\":\"2024-08-24T15:19:56.509Z\"},\"kyc\":\"66c9fa1fb6c48fdf7d5a57df\",\"stripeCustomerId\":\"cus_Qinc77TfmLjnOX\"}}"}
{"level":"info","message":"Stripe customer created for user 66c9fa17ac811a0ff3729b30 with ID cus_Qinc77TfmLjnOX","service":"shared","timestamp":"2024-08-24 23:37:00"}
