{"level":"error","message":"Error: Token has expired\n    at AuthService.verifyToken (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/services/auth/auth.service.js:20:23)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:28:50\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at /home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:175:3)","service":"shared","timestamp":"2024-08-25 15:20:54"}
{"level":"error","message":"Error: Token has expired\n    at AuthService.verifyToken (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/services/auth/auth.service.js:20:23)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:28:50\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at /home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:175:3)","service":"shared","timestamp":"2024-08-25 15:48:22"}
{"level":"error","message":"Error: Validation failed\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/validation.middleware.js:7:19\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:61:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-25 15:48:59"}
{"level":"error","message":"Error: Validation failed\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/validation.middleware.js:7:19\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:61:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-25 15:49:55"}
{"level":"error","message":"Error: Validation failed\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/validation.middleware.js:7:19\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:61:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-25 15:50:10"}
{"level":"error","message":"SyntaxError: Unexpected token '}', ...\"alance\":\r\n}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/raw-body/index.js:238:16)\n    at done (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)","service":"shared","timestamp":"2024-08-25 15:50:15"}
{"level":"error","message":"SyntaxError: Unexpected token '}', ...\"alance\":\r\n}\" is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/raw-body/index.js:238:16)\n    at done (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:520:28)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)","service":"shared","timestamp":"2024-08-25 16:07:24"}
{"level":"error","message":"Error: Validation failed\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/validation.middleware.js:7:19\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:61:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-25 16:07:38"}
{"level":"error","message":"Error in createWallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:07:43"}
{"level":"error","message":"Error creating wallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:07:43"}
{"level":"error","message":"Error: Failed to create wallet: User already has a wallet\n    at WalletService.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/services/db/wallet.service.js:58:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async WalletController.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/controller/wallet.controller.js:11:28)","service":"shared","timestamp":"2024-08-25 16:07:43"}
{"level":"error","message":"Error: Validation failed\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/validation.middleware.js:7:19\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:61:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-25 16:12:12"}
{"level":"error","message":"Error: Validation failed\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/validation.middleware.js:7:19\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:61:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-25 16:12:26"}
{"level":"error","message":"Error: Validation failed\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/validation.middleware.js:7:19\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:61:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-25 16:14:17"}
{"_message":"KnowYourCustomer validation failed","errors":{"stripeCustomerId":{"kind":"required","message":"Path `stripeCustomerId` is required.","name":"ValidatorError","path":"stripeCustomerId","properties":{"message":"Path `stripeCustomerId` is required.","path":"stripeCustomerId","type":"required"}}},"level":"error","message":"Error in deposit:","service":"shared","timestamp":"2024-08-25 16:14:30"}
{"level":"error","message":"Error: Validation failed\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/validation.middleware.js:7:19\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:149:13)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:61:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","service":"shared","timestamp":"2024-08-25 16:14:38"}
{"level":"error","message":"Error in withdraw:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:14:41"}
{"level":"error","message":"Error withdrawing funds:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:14:41"}
{"level":"error","message":"Error: Withdrawal failed: Insufficient funds\n    at WalletService.withdraw (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/services/db/wallet.service.js:144:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async WalletController.withdraw (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/controller/wallet.controller.js:51:28)","service":"shared","timestamp":"2024-08-25 16:14:41"}
{"level":"error","message":"Error in transfer:","service":"shared","statusCode":404,"timestamp":"2024-08-25 16:18:56"}
{"level":"error","message":"Error transferring funds:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:18:56"}
{"level":"error","message":"Error: Transfer failed: One or both wallets not found\n    at WalletService.transfer (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/services/db/wallet.service.js:173:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async WalletController.transfer (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/controller/wallet.controller.js:39:28)","service":"shared","timestamp":"2024-08-25 16:18:56"}
{"level":"error","message":"Error in createWallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:32:11"}
{"level":"error","message":"Error creating wallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:32:11"}
{"level":"error","message":"Error: Failed to create wallet: User already has a wallet\n    at WalletService.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/services/db/wallet.service.js:58:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async WalletController.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/controller/wallet.controller.js:11:28)","service":"shared","timestamp":"2024-08-25 16:32:11"}
{"level":"error","message":"Error: Token has expired\n    at AuthService.verifyToken (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/services/auth/auth.service.js:20:23)\n    at file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/@cash-daddy/shared/dist/middlewares/auth.middleware.js:28:50\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/layer.js:95:5)\n    at /home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/jireh/projects/stratpoint/CashDaddy/wallet-service/node_modules/express/lib/router/index.js:175:3)","service":"shared","timestamp":"2024-08-25 16:54:16"}
{"level":"error","message":"Error in createWallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:54:21"}
{"level":"error","message":"Error creating wallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:54:21"}
{"level":"error","message":"Error: Failed to create wallet: User already has a wallet\n    at WalletService.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/services/db/wallet.service.js:58:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async WalletController.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/controller/wallet.controller.js:11:28)","service":"shared","timestamp":"2024-08-25 16:54:21"}
{"level":"error","message":"Error in createWallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:55:22"}
{"level":"error","message":"Error creating wallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:55:22"}
{"level":"error","message":"Error: Failed to create wallet: User already has a wallet\n    at WalletService.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/services/db/wallet.service.js:58:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async WalletController.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/controller/wallet.controller.js:11:28)","service":"shared","timestamp":"2024-08-25 16:55:22"}
{"level":"error","message":"Error in createWallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:58:33"}
{"level":"error","message":"Error creating wallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 16:58:33"}
{"level":"error","message":"Error: Failed to create wallet: User already has a wallet\n    at WalletService.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/services/db/wallet.service.js:58:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async WalletController.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/controller/wallet.controller.js:10:28)","service":"shared","timestamp":"2024-08-25 16:58:33"}
{"level":"error","message":"Error creating Stripe customer","service":"shared","statusCode":404,"timestamp":"2024-08-25 17:01:02"}
{"level":"error","message":"Error creating Stripe customer: User cannot be verified","service":"shared","timestamp":"2024-08-25 17:01:02"}
{"level":"error","message":"Error in createWallet:","service":"shared","timestamp":"2024-08-25 17:01:02"}
{"level":"error","message":"Error creating wallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 17:01:02"}
{"level":"error","message":"Error: Failed to create wallet: Failed to create Stripe customer: User cannot be verified\n    at WalletService.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/services/db/wallet.service.js:58:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async WalletController.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/controller/wallet.controller.js:10:28)","service":"shared","timestamp":"2024-08-25 17:01:02"}
{"level":"error","message":"Error creating Stripe customer","service":"shared","statusCode":404,"timestamp":"2024-08-25 17:02:46"}
{"level":"error","message":"Error creating Stripe customer: User cannot be verified","service":"shared","timestamp":"2024-08-25 17:02:46"}
{"level":"error","message":"Error in createWallet:","service":"shared","timestamp":"2024-08-25 17:02:46"}
{"level":"error","message":"Error creating wallet:","service":"shared","statusCode":400,"timestamp":"2024-08-25 17:02:46"}
{"level":"error","message":"Error: Failed to create wallet: Failed to create Stripe customer: User cannot be verified\n    at WalletService.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/services/db/wallet.service.js:58:23)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at process.processTimers (node:internal/timers:511:9)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async descriptor.value (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/decorators/caching.decorator.js:31:28)\n    at async WalletController.createWallet (file:///home/jireh/projects/stratpoint/CashDaddy/wallet-service/dist/src/controller/wallet.controller.js:10:28)","service":"shared","timestamp":"2024-08-25 17:02:46"}
